function popA_tbl(t,e,a,r,s,c,i,o,n){$(".a_tbname").text(t+" "+e),$(".a_tbaddrs").text(a),$(".a_tbsponsor").text(r),$(".a_tbemail").text(s),$(".a_tbmobile").text(c),$(".a_id").text("ID: "+i),$(".a_tbjoin").text(o),$(".a_tbup").text(n)}function popData(t,e){$.ajax({type:"POST",url:$server,data:{register:"login",u_id:t,u_pass:e},success:function(t){data2=JSON.parse(t),clientId=data2.id,clientName=data2.first_name+" "+data2.last_name,user=data2.first_name+" "+data2.last_name,"accepted"===data2.msg&&(popA_tbl(data2.first_name,data2.last_name,data2.addrs,data2.sponsor,data2.email,data2.mobile,data2.id,data2.join_date,data2.sponsor),upline=data2.sponsor,outM=data2.store,data2.activated?($(".status101").html('<label class="form-label text-capitalize text-success status101">Activated<br /></label>'),getData($server+"?msg=score&clientId="+clientId,"score"),getData($server+"?msg=trans_h&id="+clientId,"trans_h"),addtocart(0,0,0),online=1):online=0,$("#login").hide(),$("#main").show()),1==outM?$("#mystore").show():$("#mystore").hide(),$(".error_info").text(data2.msg)}})}function popReferral(){google.charts.load("current",{packages:["orgchart"]}),google.charts.setOnLoadCallback(drawChart)}var dhistp=0;function getData(t,e){switch(start_fetch(0),e){case"quebody":fetch(t).then((t=>t.text())).then((t=>$("#quebody").html(t)));break;case"send_vcode":fetch(t).then((t=>t.text())).then((t=>$("#sendCbody").html(t)));break;case"products_codes":fetch(t).then((t=>t.text())).then((t=>$("#products_codes").html(t)));break;case"products_view":$(".loader1").show(),$("#products_view").hide(),fetch(t).then((t=>t.text())).then((t=>$("#products_view").html(t))),storeNav[1]=t,$(".prod_click").attr("data-cmd",1);break;case"openStoreItems":$(".loader1").show(),$("#products_view").hide(),fetch(t).then((t=>t.text())).then((t=>$("#products_view").html(t)+backtoc(1))),storeNav[2]=t,$(".prod_click").attr("data-cmd",2);break;case"categ_items":$(".loader1").show(),$("#products_view").hide(),fetch(t).then((t=>t.text())).then((t=>$("#products_view").html(t)+backtoc(1))),storeNav[3]=t,$(".prod_click").attr("data-cmd",3);break;case"trans_h":fetch(t).then((t=>t.text())).then((t=>$("#trans_h").html(t)));break;case"dinfo":fetch(t).then((t=>t.json())).then((t=>$("#Did").text(t.id)+$("#Dname").text(t.name)+$("#Dpos").text(t.pos)));break;case"score":fetch(t).then((t=>t.json())).then((t=>$("#dr_count").text(t.dr)+$("#dr_count-1").text(t.dr2)+$("#earn_count").text("Total Earnings: ₱"+t.cash)+$("#cash_count").text(t.cash)+$("#own_points").text(t.ownpoints)+$("#own_points-1").text("₱"+t.ownpcash)+$("#point_count-2").text(t.points)+$("#point_count-3").text(t.points2)+$("#cash_bal").text("₱"+t.cash_bal)+$(".avlbal").text("Available Balance PHP "+t.cash_bal)+$("#pointsA").text(t.pointsA+" Pts")+$("#pointsB").text(t.pointsB+" Pts")+$("#or_count").text(t.oref)+$("#or_cash").text("₱"+t.orefC)+$("#or_points").text(t.orefP)));break;case"purcHist":fetch(t).then((t=>t.text())).then((t=>$("#pHist").html(t)+dhistp+++recpt()));break;case"packPoints":fetch(t).then((t=>t.text())).then((t=>$("#pHist-1").html(t)+dhistp+++recpt()));break;case"otHist":fetch(t).then((t=>t.text())).then((t=>$("#pHist-2").html(t)+dhistp+++recpt()))}start_fetch(0)}function sendDwnline(t,e,a,r){start_fetch(0),$.ajax({type:"POST",url:$server,data:{register:"set_dwn",tail:t,downline:e,head:a,pos:r},success:function(){cmdl("gen_tree",clientName),loadChart(0),start_fetch(1)}})}function sendcodex(t){start_fetch(0),$.ajax({type:"POST",url:$server,data:{register:"send_codes",client:t,user:clientId,ct:vcode_type},success:function(){$(".inv_click")[0].click(),start_fetch(1)}})}function addtocart(t,e,a){start_fetch(0),$.ajax({type:"POST",url:$server,data:{register:"addtocart",clientId:clientId,item_order:t,item_tag:e,msg:a,dirF:invDir},success:function(t){$("#products_cart").html(t),start_fetch(1)}}),CartHistory()}function CartHistory(){start_fetch(0),$.ajax({type:"POST",url:$server,data:{register:"CartHistory",clientId:clientId},success:function(t){$("#products_cart_h").html(t),start_fetch(1)}})}function orderConfirm(t,e,a,r,s,c){start_fetch(0),$.ajax({type:"POST",url:$server,data:{register:"orderConfirm",clientId:clientId,orderCname:t,orderCaddrs:e,orderCmobile:a,orderCpayment:r,sumofprice:s,sumofpoints:c,dirF:invDir},success:function(t){alert(t),"Success!"==t&&($("#checkout").modal("toggle"),addtocart(0,0,0)),start_fetch(1)}})}function cmdl(t,e){start_fetch(0),$.ajax({type:"GET",url:$server,data:{msg:t,id:e},success:function(t){referralData=JSON.parse(t),loadChart(1),start_fetch(1)}})}function loadChart(t){t?(popReferral(),$(".loader").hide()):$(".loader").show()}function loadImageFile(){if(0!==document.getElementById("imgInp").files.length){var t=document.getElementById("imgInp").files[0];rFilter.test(t.type)?oFReader.readAsDataURL(t):alert("You must select a valid image file!")}}function backtoc(a){var i=$(".prod_click i"),span=$(".prod_click span");if(a>0){with(i)removeClass(),addClass("fas fa-arrow-circle-left text-success");with(span)text(" Back")}else{with(i)removeClass(),addClass("fas fa-search-location text-success");with(span)text(" Select")}}oFReader=new FileReader,rFilter=/^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i,oFReader.onload=function(t){var e=new Image;e.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d");t.width=e.width/2,t.height=e.height/2,a.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),reader=t.toDataURL(),document.getElementById("blah").src=reader},e.src=t.target.result},document.getElementById("imgInp").addEventListener("change",(function(t){loadImageFile()}));